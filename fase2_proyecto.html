<!DOCTYPE html>
<html>

<head>
<style type="text/css">
.inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.sng {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.def {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
  <meta charset="UTF-8">
  <title>Comprensi√≥n de los Datos</title>
  <link rel="stylesheet" href="styles.css">

  <!-- Estilo para las tarjetas de consultas y resultados -->
  <style>
    .sql-card {
      background: #0f172a;
      color: #e2e8f0;
      padding: 14px 18px;
      border-radius: 12px;
      margin: 16px 0;
      font-size: 13px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.35);
      border: 1px solid #1e293b;
    }

    .sql-title {
      font-weight: 600;
      margin-bottom: 8px;
      color: #f8fafc;
    }

    .result-card {
      background: #ffffff;
      padding: 14px 18px;
      border-radius: 12px;
      margin-top: 8px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.10);
      border: 1px solid #e2e8f0;
    }

    .result-card table {
      width: 100%;
      font-size: 13px;
    }

    .result-card caption {
      font-weight: 600;
      margin-bottom: 6px;
    }
  </style>
</head>

<body>

<div class="page">

  <!-- NAV FASES -->
  <div class="phases-nav">
    <a href="index.html" class="phase-link">Definici√≥n del Proyecto</a>
    <a href="fase2_proyecto.html" class="phase-link active">Comprensi√≥n de los Datos</a>
    <a href="fase3_proyecto.html" class="phase-link">An√°lisis Exploratorio de Datos</a>
  </div>

  <!-- ========== HERO FASE 2 ========== -->
  <div class="hero-container">

    <div class="hero-left">
      <h1 class="hero-title">Comprensi√≥n de los Datos</h1>
      <p class="hero-subtitle">Estructura, calidad y primeras relaciones del dataset</p>

      <div class="hero-badges">
        <span class="hero-badge">Rom√°n Ballesteros Mart√≠nez</span>
        <span class="hero-badge">Zara Sales EDA</span>
        <span class="hero-badge">Fase 2 ¬∑ Organizaci√≥n y Entendimiento</span>
      </div>

      <p class="hero-description">
        En esta fase se estudia el dataset <i>Zara_sales.csv</i> y su versi√≥n en base de datos
        para entender qu√© informaci√≥n contiene, en qu√© estado se encuentra y qu√© primeras
        se√±ales ofrece sobre el comportamiento de las ventas.
      </p>
    </div>

    <div class="hero-right">
      <div class="hero-box">
        <p class="hero-box-title">Resumen de la fase</p>
        <ul class="hero-info-list">
          <li><span>üë§</span> Autor: <b>Rom√°n Ballesteros Mart√≠nez</b></li>
          <li><span>üóÑÔ∏è</span> BD: <b>PostgreSQL (192.168.1.194)</b></li>
          <li><span>üìä</span> Dataset: <b>Zara_sales.csv</b></li>
          <li><span>üîç</span> Trabajo: BD + estructura + calidad del dato</li>
          <li><span>üìà</span> Resultado: dataset listo para el EDA</li>
        </ul>
      </div>
    </div>

  </div>
  <!-- ========== FIN HERO ========== -->

  <!-- ========= CHUNK DE SETUP (R OCULTO) ========= -->


  <!-- ========== CONTENIDO PRINCIPAL ========== -->
  <div class="layout">
    <div>

      <!-- 1. Trabajo con bases de datos -->
      <div class="section-card">
        <div class="section-header">
          <div class="section-number">1</div>
          <div>
            <p class="section-title">Trabajo con bases de datos</p>
            <p class="section-subtitle">PostgreSQL en m√°quina remota 192.168.1.194</p>
          </div>
        </div>

        <div class="section-body">
          <p>
            Como parte de la Fase 2 se cre√≥ una base de datos en <b>PostgreSQL</b> y se carg√≥ el dataset
            en la tabla <code>zara_sales</code>. Esto permite ejecutar consultas SQL reales relacionadas
            con el proyecto y obtener una primera visi√≥n del comportamiento comercial.
          </p>

          <p><b>Esquema l√≥gico de la tabla <code>zara_sales</code>:</b></p>

          <table class="timeline-table">
            <tr><th>Columna</th><th>Tipo</th><th>Descripci√≥n</th></tr>
            <tr><td>product_id</td><td>INTEGER</td><td>ID √∫nico del producto</td></tr>
            <tr><td>section</td><td>TEXT</td><td>Secci√≥n (MAN / WOMAN)</td></tr>
            <tr><td>season</td><td>TEXT</td><td>Temporada principal</td></tr>
            <tr><td>terms</td><td>TEXT</td><td>Subtemporada / colecci√≥n</td></tr>
            <tr><td>origin</td><td>TEXT</td><td>Pa√≠s de fabricaci√≥n</td></tr>
            <tr><td>product_position</td><td>TEXT</td><td>Posici√≥n en tienda (Front / Middle / Back)</td></tr>
            <tr><td>price</td><td>NUMERIC</td><td>Precio unitario</td></tr>
            <tr><td>sales</td><td>INTEGER</td><td>Unidades vendidas</td></tr>
            <tr><td>promotion</td><td>TEXT</td><td>Promoci√≥n (Yes/No)</td></tr>
          </table>

          <p><b>Conexi√≥n desde R:</b></p>
          <pre><code>
con <- DBI::dbConnect(
  RPostgres::Postgres(),
  host   = "192.168.1.194",
  port   = 5432,
  dbname = "zara_db",
  user   = "postgres",
  password = "passw0rd!"
)
          </code></pre>

          <p><b>Consultas SQL realizadas y resultados:</b></p>

          <!-- 1) Productos por secci√≥n -->
          <div class="sql-card">
            <div class="sql-title">1) Productos por secci√≥n</div>
            <code>
SELECT section, COUNT(*) AS num_productos
FROM zara_sales
GROUP BY section;
            </code>
          </div>

<div class="result-card"><table class="table">
 <thead>
  <tr>
   <th style="text-align:left;"> section </th>
   <th style="text-align:right;"> num_productos </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> MAN </td>
   <td style="text-align:right;"> 6998 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> WOMAN </td>
   <td style="text-align:right;"> 13254 </td>
  </tr>
</tbody>
</table></div>

          <!-- 2) Ventas por temporada -->
          <div class="sql-card">
            <div class="sql-title">2) Ventas por temporada</div>
            <code>
SELECT season,
       AVG(sales) AS avg_sales,
       SUM(sales) AS total_sales
FROM zara_sales
GROUP BY season;
            </code>
          </div>

<div class="result-card"><table class="table">
 <thead>
  <tr>
   <th style="text-align:left;"> season </th>
   <th style="text-align:right;"> avg_sales </th>
   <th style="text-align:right;"> total_sales </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Winter </td>
   <td style="text-align:right;"> 1174.613 </td>
   <td style="text-align:right;"> 6042207 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Summer </td>
   <td style="text-align:right;"> 1184.589 </td>
   <td style="text-align:right;"> 3442417 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Autumn </td>
   <td style="text-align:right;"> 1042.820 </td>
   <td style="text-align:right;"> 7993214 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Spring </td>
   <td style="text-align:right;"> 1046.223 </td>
   <td style="text-align:right;"> 4746716 </td>
  </tr>
</tbody>
</table></div>

          <!-- 3) Ventas por rangos de precio -->
          <div class="sql-card">
            <div class="sql-title">3) Ventas por rangos de precio</div>
            <code>
SELECT CASE
  WHEN price &lt; 20 THEN 'Bajo'
  WHEN price BETWEEN 20 AND 39.99 THEN 'Medio'
  ELSE 'Alto' END AS rango_precio,
  AVG(sales) AS avg_sales,
  COUNT(*) AS num_productos
FROM zara_sales
GROUP BY rango_precio;
            </code>
          </div>

<div class="result-card"><table class="table">
 <thead>
  <tr>
   <th style="text-align:left;"> rango_precio </th>
   <th style="text-align:right;"> avg_sales </th>
   <th style="text-align:right;"> num_productos </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Alto </td>
   <td style="text-align:right;"> 1097.4 </td>
   <td style="text-align:right;"> 20252 </td>
  </tr>
</tbody>
</table></div>

          <!-- 4) Promoci√≥n vs ventas -->
          <div class="sql-card">
            <div class="sql-title">4) Promoci√≥n vs ventas</div>
            <code>
SELECT promotion,
       AVG(sales) AS avg_sales,
       SUM(sales) AS total_sales
FROM zara_sales
GROUP BY promotion;
            </code>
          </div>

<div class="result-card"><table class="table">
 <thead>
  <tr>
   <th style="text-align:left;"> promotion </th>
   <th style="text-align:right;"> avg_sales </th>
   <th style="text-align:right;"> total_sales </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> No </td>
   <td style="text-align:right;"> 872.3771 </td>
   <td style="text-align:right;"> 10304518 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:right;"> 1412.3265 </td>
   <td style="text-align:right;"> 11920036 </td>
  </tr>
</tbody>
</table></div>

          <!-- 5) Ventas por origen -->
          <div class="sql-card">
            <div class="sql-title">5) Ventas por origen</div>
            <code>
SELECT origin,
       AVG(sales) AS avg_sales,
       SUM(sales) AS total_sales
FROM zara_sales
GROUP BY origin;
            </code>
          </div>

<div class="result-card"><table class="table">
 <thead>
  <tr>
   <th style="text-align:left;"> origin </th>
   <th style="text-align:right;"> avg_sales </th>
   <th style="text-align:right;"> total_sales </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Bangladesh </td>
   <td style="text-align:right;"> 1087.658 </td>
   <td style="text-align:right;"> 3934058 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cambodia </td>
   <td style="text-align:right;"> 1091.422 </td>
   <td style="text-align:right;"> 1070685 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Portugal </td>
   <td style="text-align:right;"> 1094.743 </td>
   <td style="text-align:right;"> 1554535 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Turkey </td>
   <td style="text-align:right;"> 1091.313 </td>
   <td style="text-align:right;"> 2700999 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> China </td>
   <td style="text-align:right;"> 1106.441 </td>
   <td style="text-align:right;"> 4454532 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Spain </td>
   <td style="text-align:right;"> 1102.844 </td>
   <td style="text-align:right;"> 1376349 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Argentina </td>
   <td style="text-align:right;"> 1096.514 </td>
   <td style="text-align:right;"> 196276 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> India </td>
   <td style="text-align:right;"> 1096.032 </td>
   <td style="text-align:right;"> 2228233 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Vietnam </td>
   <td style="text-align:right;"> 1094.718 </td>
   <td style="text-align:right;"> 1335556 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Pakistan </td>
   <td style="text-align:right;"> 1095.286 </td>
   <td style="text-align:right;"> 662648 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Brazil </td>
   <td style="text-align:right;"> 1127.155 </td>
   <td style="text-align:right;"> 896088 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Morocco </td>
   <td style="text-align:right;"> 1097.759 </td>
   <td style="text-align:right;"> 1814595 </td>
  </tr>
</tbody>
</table></div>

          <!-- 6) Ventas por posici√≥n en tienda -->
          <div class="sql-card">
            <div class="sql-title">6) Ventas por posici√≥n en tienda</div>
            <code>
SELECT product_position,
       AVG(sales) AS avg_sales,
       COUNT(*) AS num_productos
FROM zara_sales
GROUP BY product_position;
            </code>
          </div>

<div class="result-card"><table class="table">
 <thead>
  <tr>
   <th style="text-align:left;"> product_position </th>
   <th style="text-align:right;"> avg_sales </th>
   <th style="text-align:right;"> num_productos </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Front of Store </td>
   <td style="text-align:right;"> 1103.361 </td>
   <td style="text-align:right;"> 5651 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Aisle </td>
   <td style="text-align:right;"> 1090.427 </td>
   <td style="text-align:right;"> 7810 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> End-cap </td>
   <td style="text-align:right;"> 1100.460 </td>
   <td style="text-align:right;"> 6791 </td>
  </tr>
</tbody>
</table></div>

          <!-- 7) Ventas por colecci√≥n (terms) -->
          <div class="sql-card">
            <div class="sql-title">7) Ventas por colecci√≥n (terms)</div>
            <code>
SELECT terms,
       AVG(sales) AS avg_sales,
       SUM(sales) AS total_sales
FROM zara_sales
GROUP BY terms;
            </code>
          </div>

<div class="result-card"><table class="table">
 <thead>
  <tr>
   <th style="text-align:left;"> terms </th>
   <th style="text-align:right;"> avg_sales </th>
   <th style="text-align:right;"> total_sales </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> shoes </td>
   <td style="text-align:right;"> 1089.090 </td>
   <td style="text-align:right;"> 2676982 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> t-shirts </td>
   <td style="text-align:right;"> 1088.200 </td>
   <td style="text-align:right;"> 2879378 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> sweaters </td>
   <td style="text-align:right;"> 1104.926 </td>
   <td style="text-align:right;"> 3598743 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> jeans </td>
   <td style="text-align:right;"> 1094.549 </td>
   <td style="text-align:right;"> 721308 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> jackets </td>
   <td style="text-align:right;"> 1099.372 </td>
   <td style="text-align:right;"> 12348143 </td>
  </tr>
</tbody>
</table></div>

        </div>
      </div>

      <!-- 2. Descripci√≥n general -->
      <div class="section-card">
        <div class="section-header">
          <div class="section-number">2</div>
          <div>
            <p class="section-title">Descripci√≥n general del dataset</p>
            <p class="section-subtitle">Contexto y contenido b√°sico</p>
          </div>
        </div>

        <div class="section-body">

          <p><b>Variables principales del dataset:</b></p>

          <table class="timeline-table">
            <tr><th>Variable</th><th>Tipo</th><th>Ejemplo</th><th>Rol</th></tr>
            <tr><td>price</td><td>Num√©rica</td><td>29.99</td><td>Relaci√≥n con ventas</td></tr>
            <tr><td>sales</td><td>Num√©rica</td><td>120</td><td>Rendimiento comercial</td></tr>
            <tr><td>section</td><td>Categ√≥rica</td><td>WOMAN</td><td>Comparaci√≥n entre l√≠neas</td></tr>
            <tr><td>season</td><td>Categ√≥rica</td><td>SS</td><td>Efecto estacional</td></tr>
            <tr><td>promotion</td><td>Categ√≥rica</td><td>Yes</td><td>Impacto promocional</td></tr>
            <tr><td>origin</td><td>Categ√≥rica</td><td>Turkey</td><td>Posible relaci√≥n con calidad/coste</td></tr>
            <tr><td>terms</td><td>Categ√≥rica</td><td>Early SS</td><td>Ciclos dentro de temporada</td></tr>
            <tr><td>product_position</td><td>Categ√≥rica</td><td>Front</td><td>Visibilidad en tienda</td></tr>
          </table>

        </div>
      </div>

      <!-- 3. Calidad del dato -->
      <div class="section-card">
        <div class="section-header">
          <div class="section-number">3</div>
          <div>
            <p class="section-title">Calidad del dato</p>
            <p class="section-subtitle">Valores ausentes, duplicados e inconsistencias</p>
          </div>
        </div>

        <div class="section-body">
          <p><b>Aspectos evaluados:</b></p>

          <table class="timeline-table">
            <tr><th>Aspecto</th><th>Hallazgo</th><th>Acci√≥n Fase 3</th></tr>
            <tr><td>Valores ausentes</td><td>Presentes en algunas columnas</td><td>Imputar o eliminar</td></tr>
            <tr><td>Duplicados</td><td>Posibles filas repetidas</td><td>Eliminar duplicados</td></tr>
            <tr><td>Categor√≠as inconsistentes</td><td>Diferencias en escritura</td><td>Estandarizar etiquetas</td></tr>
            <tr><td>Outliers</td><td>Ventas y precios extremos</td><td>Evaluaci√≥n caso a caso</td></tr>
          </table>

        </div>
      </div>

      <!-- 4. Conclusiones -->
      <div class="section-card">
        <div class="section-header">
          <div class="section-number">4</div>
          <div>
            <p class="section-title">Conclusiones preliminares</p>
            <p class="section-subtitle">Insights iniciales para el negocio</p>
          </div>
        </div>

        <div class="section-body">
          <p>
            Las variables <b>origin</b>, <b>terms</b> y <b>product_position</b> abren nuevas l√≠neas
            estrat√©gicas:
          </p>

          <ul>
            <li>El origen puede estar asociado a percepci√≥n de calidad y ritmos de rotaci√≥n.</li>
            <li>Las subtemporadas permiten identificar ventanas cortas de alta demanda.</li>
            <li>La posici√≥n f√≠sica en tienda puede tener un impacto directo en ventas.</li>
          </ul>

          <p>
            En conjunto, el dataset est√° listo para pasar a la Fase 3 (EDA), donde se explorar√°n
            patrones visuales, distribuciones y relaciones entre variables.
          </p>
        </div>
      </div>

    </div>
  </div>

  <!-- Cerrar conexi√≥n al final del documento -->


</div>

</body>
</html>
